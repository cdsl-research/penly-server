<!DOCTYPE html>
<html>
  <head>
    <script>
      function refreshPage() {
        location.reload();
      }
      setInterval(refreshPage, 30000);
    </script>
    <style>
      table {
        border-collapse: collapse;
        width: 100%;
        font-family: Arial, sans-serif;
      }
      th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #ddd;
      }
    </style>
  </head>
  <body>
    <table>
      <tr>
        {% for fileName in ESP32_NAME_LIST %}
        <th>{{ espNameDict[fileName] }}</th>
        <th></th>
        <th></th>
        {% endfor %}
      </tr>
      {% for i in range(length_data) %}
      <tr>
        {% for fileName in ESP32_NAME_LIST %}
          <td>{{timeDict[fileName][i]}}</td>
          <td>{{countDict[fileName][i]}}</td>
          <td style="{% if dataDict[fileName][i] == 0.0 %} background-color: rgba(255,0,0,0.2); {% endif %}">{{dataDict[fileName][i]}}</td>
        {% endfor %}
      </tr>
      {% endfor %}
    </table>
  </body>
</html>
